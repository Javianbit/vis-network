<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Edge Styles | Self Reference</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"#mynetwork {\n  width: 800px;\n  height: 600px;\n  border: 1px solid lightgray;\n}\n","css_external":"","html":"<div id=\"mynetwork\"></div>\n","js":"// create an array with nodes\n\nvar nodes = new vis.DataSet([\n  {\n    id: 1,\n    label: [\n      \"I&apos;m an alligator,\",\n      \"I&apos;m a mama-papa coming for you.\",\n      \"I&apos;m the space invader,\",\n      \"I&apos;ll be a rock &apos;n&apos; rollin&apos; bitch for you.\",\n    ].join(\"\\n\"),\n    x: 0,\n    y: 0,\n    color: {\n      background: \"transparent\",\n    },\n  },\n  {\n    id: 2,\n    label: [\n      \"An edge connected to the same node on both end renders a circle.\",\n      \"Both from and to arrows point to the same node.\",\n      \"The radius of the edge can be adjusted using selfReference.size.\",\n      \"The edge can be positioned using selfReference.angle.\",\n      \"The part of the edge behind the node can be hidden using selfReference.renderBehindTheNode.\",\n    ].join(\"\\n\"),\n    widthConstraint: { minimum: 100 },\n    heightConstraint: { minimum: 100 },\n    x: 200,\n    y: 200,\n    color: {\n      background: \"transparent\",\n    },\n  },\n  {\n    id: 3,\n    label: [\n      \"Self reference edge is in the bottom left corner\",\n      \"with parts rendered behind node\",\n    ].join(\"\\n\"),\n    widthConstraint: { minimum: 100 },\n    heightConstraint: { minimum: 100 },\n    x: 400,\n    y: 400,\n    color: {\n      background: \"transparent\",\n    },\n    shape: \"box\",\n  },\n]);\n\n// create an array with edges\nvar edges = new vis.DataSet([\n  { from: 1, to: 1, label: \"Moonage Daydream\" },\n  {\n    from: 2,\n    to: 2,\n    label: \"Testing\",\n    arrows: \"to, middle, from\",\n    selfReference: {\n      size: 40,\n      angle: (Math.PI * 7) / 6,\n      renderBehindTheNode: false,\n    },\n  },\n  {\n    from: 3,\n    to: 3,\n    label: \"Testing\",\n    arrows: \"to, middle, from\",\n    selfReference: {\n      size: 40,\n      angle: (Math.PI * 7) / 6,\n      renderBehindTheNode: true,\n    },\n  },\n]);\n\n// create a network\nvar container = document.getElementById(\"mynetwork\");\nvar data = {\n  nodes: nodes,\n  edges: edges,\n};\nvar options = {\n  edges: {\n    color: {\n      color: \"#2B7CE9\",\n      highlight: \"#2B7CE9\",\n      hover: \"#2B7CE9\",\n    },\n    hoverWidth: function (width) {\n      return width + 2;\n    },\n    shadow: true,\n  },\n  interaction: {\n    hover: true,\n  },\n};\nvar network = new vis.Network(container, data, options);\n\n(async () => {\n  let angle = -100;\n\n  for (;;) {\n    await new Promise((resolve) => setTimeout(resolve, 100));\n\n    ++angle;\n    console.log(\"set self reference angle to\", angle / 10);\n    network.setOptions({\n      edges: {\n        arrows: { to: true, from: true, middle: true },\n        selfReference: {\n          size: 20,\n          angle: angle / 10,\n          renderBehindTheNode: false,\n        },\n      },\n    });\n  }\n})();\n","js_external":"https://visjs.github.io/vis-network/standalone/umd/vis-network.js","title":"Vis Network | Edge Styles | Self Reference"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open CodePen</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
